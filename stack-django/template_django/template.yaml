name: stackspot_template_django
description: facilitar projetos django
types:
  - app-template
inputs:
  - label: Project name
    type: text
    name: project_name
    default: project-name
  - label: Nome do Projeto
    type: text
    name: name_project
    default: stk_project
  - label: Nome do APP
    type: text
    name: name_app
    default: hello
  - label: Instalar o python3 ?
    type: text
    name: python
    items:
      - Sim
      - Nao
  - label: Instalar o Django ?
    type: text
    name: django
    items:
      - Sim
      - Nao

hooks:
  - type: run
    trigger: before-render
    condition:
      variable: python
      operator: "=="
      value: Sim
    linux:
      - "echo Installing python3 in Linux"
      - "sudo apt-get install python3"
    mac:
      - "echo Installing python3 in Mac"
      - "brew install python"

  - type: run
    trigger: before-render
    condition:
      variable: django
      operator: "=="
      value: Sim
    linux:
      - "echo Installing django in Linux"
      - "sudo apt-get install Django"
    mac:
      - "echo Installing django in Mac"
      - "pip install Django"
  
  - type: run
    trigger: after-render
    commands:
      -  "django-admin startproject {{inputs.name_project}}"
   
  - type: run
    trigger: after-render
    working-dir: "{{inputs.name_project}}"
    commands:
      - "python3 manage.py startapp {{inputs.name_app}}"
      - "touch {{inputs.name_app}}/urls.py"
  - type: run-script
    trigger: after-render
    script: scripts/add_app_in_settings.py

           
